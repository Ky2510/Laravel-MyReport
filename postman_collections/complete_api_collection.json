{
    "info": {
        "name": "Complete Laravel MyReport API",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
        "_postman_id": "complete-collection",
        "description": "Complete API collection for Laravel MyReport application with custom token authentication"
    },
    "variable": [
        {
            "key": "base_url",
            "value": "http://127.0.0.1:8000",
            "type": "string",
            "description": "Base URL for API endpoints"
        },
        {
            "key": "token",
            "value": "",
            "type": "string",
            "description": "Authentication token obtained from login"
        }
    ],
    "item": [
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Register User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"username\": \"johndoe\",\n  \"password\": \"password123\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/register",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "register"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Login",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"login\": \"yasin\",\n  \"password\": \"autoall1\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "login"
                            ]
                        },
                        "event": [
                            {
                                "listen": "test",
                                "script": {
                                    "exec": [
                                        "if (pm.response.code === 200) {",
                                        "    var response = pm.response.json();",
                                        "    pm.collectionVariables.set('token', response.token);",
                                        "    pm.test('Login successful, token saved', function () {",
                                        "        pm.expect(pm.collectionVariables.get('token')).to.not.be.empty;",
                                        "    });",
                                        "}"
                                    ]
                                }
                            }
                        ]
                    },
                    "response": []
                },
                {
                    "name": "Get Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/profile",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "profile"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Logout",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/logout",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "logout"
                            ]
                        },
                        "event": [
                            {
                                "listen": "test",
                                "script": {
                                    "exec": [
                                        "if (pm.response.code === 200) {",
                                        "    pm.collectionVariables.set('token', '');",
                                        "    pm.test('Logout successful, token cleared', function () {",
                                        "        pm.expect(pm.collectionVariables.get('token')).to.be.empty;",
                                        "    });",
                                        "}"
                                    ]
                                }
                            }
                        ]
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Role Management",
            "auth": {
                "type": "bearer",
                "bearer": [
                    {
                        "key": "token",
                        "value": "{{token}}",
                        "type": "string"
                    }
                ]
            },
            "item": [
                {
                    "name": "List Roles",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/roles",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "roles"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Role",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"product_manager\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/roles",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "roles"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Role",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/roles/0f7f47bd-44de-498d-a793-5aa867e7ebf8",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "roles",
                                "0f7f47bd-44de-498d-a793-5aa867e7ebf8"
                            ]
                        },
                        "description": "Replace the role ID with actual role ID from list"
                    },
                    "response": []
                },
                {
                    "name": "Update Role",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"senior_product_manager\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/roles/{{roleId}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "roles",
                                "{{roleId}}"
                            ]
                        },
                        "description": "Replace {{roleId}} with actual role ID"
                    },
                    "response": []
                },
                {
                    "name": "Delete Role",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/roles/{{roleId}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "roles",
                                "{{roleId}}"
                            ]
                        },
                        "description": "Replace {{roleId}} with actual role ID. ‚ö†Ô∏è This action is irreversible!"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Permission Management",
            "auth": {
                "type": "bearer",
                "bearer": [
                    {
                        "key": "token",
                        "value": "{{token}}",
                        "type": "string"
                    }
                ]
            },
            "item": [
                {
                    "name": "List Permissions",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/permissions",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "permissions"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Permission",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"audit_system\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/permissions",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "permissions"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Permission",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"view_audit_logs\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/permissions/{{permissionId}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "permissions",
                                "{{permissionId}}"
                            ]
                        },
                        "description": "Replace {{permissionId}} with actual permission ID"
                    },
                    "response": []
                },
                {
                    "name": "Delete Permission",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/permissions/{{permissionId}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "permissions",
                                "{{permissionId}}"
                            ]
                        },
                        "description": "Replace {{permissionId}} with actual permission ID. ‚ö†Ô∏è This action is irreversible!"
                    },
                    "response": []
                },
                {
                    "name": "List Departments",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/departments",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "departments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Department",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Department Coba\",\n  \"status\": true,\n  \"activate_notif\": false\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/departments",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "departments"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Department Detail",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/departments/{{departmentId}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "departments",
                                "{{departmentId}}"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Department",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Department Updated\",\n  \"status\": true,\n  \"activate_notif\": true\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/departments/{{departmentId}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "departments",
                                "{{departmentId}}"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Delete Department",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/departments/{{departmentId}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "departments",
                                "{{departmentId}}"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "User Management",
            "auth": {
                "type": "bearer",
                "bearer": [
                    {
                        "key": "token",
                        "value": "{{token}}",
                        "type": "string"
                    }
                ]
            },
            "item": [
                {
                    "name": "List Users",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/users",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Alice Johnson\",\n  \"email\": \"alice@example.com\",\n  \"password\": \"password123\",\n  \"role\": \"employee\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/users",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users"
                            ]
                        },
                        "description": "Available roles: director, employee, hr_manager, sales_employee, sales_manager, super_admin"
                    },
                    "response": []
                },
                {
                    "name": "Update User",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Alice Johnson Updated\",\n  \"email\": \"alice.updated@example.com\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/api/users/{{userId}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "{{userId}}"
                            ]
                        },
                        "description": "Replace {{userId}} with actual user ID. Include password only if you want to change it."
                    },
                    "response": []
                },
                {
                    "name": "Delete User",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/users/{{userId}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "{{userId}}"
                            ]
                        },
                        "description": "Replace {{userId}} with actual user ID. ‚ö†Ô∏è This action is irreversible!"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Create User",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"username\": \"alice01\",\n  \"name\": \"Alice Johnson\",\n  \"email\": \"alice@example.com\",\n  \"password\": \"password123\",\n  \"role\": \"employee\",\n  \"department_id\": \"uuid-department\"\n}"
                },
                "url": {
                    "raw": "{{base_url}}/api/users",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "users"
                    ]
                }
            },
            "response": []
        },
        {
            "name": "Edit User",
            "request": {
                "method": "PUT",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"name\": \"Alice Updated\",\n  \"email\": \"alice.updated@example.com\",\n  \"role\": \"hr_manager\",\n  \"department_id\": \"uuid-baru\"\n}"
                },
                "url": {
                    "raw": "{{base_url}}/api/users/{{user_id}}",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "users",
                        "{{user_id}}"
                    ]
                }
            },
            "response": []
        },
        {
            "name": "Fetch Users",
            "request": {
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{base_url}}/api/users",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "users"
                    ]
                }
            },
            "response": []
        },
        {
            "name": "Delete User",
            "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                    "raw": "{{base_url}}/api/users/{{user_id}}",
                    "host": [
                        "{{base_url}}"
                    ],
                    "path": [
                        "api",
                        "users",
                        "{{user_id}}"
                    ]
                }
            },
            "response": []
        },
        {
            "name": "Dashboards",
            "auth": {
                "type": "bearer",
                "bearer": [
                    {
                        "key": "token",
                        "value": "{{token}}",
                        "type": "string"
                    }
                ]
            },
            "item": [
                {
                    "name": "Super Admin Dashboard",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/superadmin/dashboard",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "superadmin",
                                "dashboard"
                            ]
                        },
                        "description": "Requires super_admin role"
                    },
                    "response": []
                },
                {
                    "name": "Admin Dashboard",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/admin/dashboard",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "dashboard"
                            ]
                        },
                        "description": "Requires admin or super_admin role"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Documentation & Setup",
            "item": [
                {
                    "name": "üìã API Documentation",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/docs",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "docs"
                            ]
                        },
                        "description": "Access API documentation if available"
                    },
                    "response": []
                },
                {
                    "name": "üîß Setup Instructions",
                    "item": [
                        {
                            "name": "1. Login First",
                            "request": {
                                "method": "GET",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "Use the Login endpoint to get a token first!"
                                },
                                "url": {
                                    "raw": "",
                                    "host": [],
                                    "path": []
                                }
                            },
                            "response": []
                        },
                        {
                            "name": "2. Default Admin User",
                            "request": {
                                "method": "GET",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "Username: yasin\nPassword: autoall1\n\nThis user has super_admin role with full access"
                                },
                                "url": {
                                    "raw": "",
                                    "host": [],
                                    "path": []
                                }
                            },
                            "response": []
                        }
                    ]
                }
            ]
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Ensure token is available for authenticated requests",
                    "if (!pm.collectionVariables.get('token') && pm.request.headers.get('Authorization')) {",
                    "    console.log('Warning: Token is empty. Please login first.');",
                    "}"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Common test for all requests",
                    "pm.test('Response time is acceptable', function () {",
                    "    pm.expect(pm.response.responseTime).to.be.below(5000);",
                    "});"
                ]
            }
        }
    ]
}
